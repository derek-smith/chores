(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{45:function(e){e.exports={client_id:"965002260915-v77visb8dlu3oohk47mdt0ojr3osvbaa.apps.googleusercontent.com",api_key:"AIzaSyBmBiPWa8zyPsjNSEBVtrbVPzP8Fdu3UjI"}},64:function(e,t,n){e.exports=n(83)},73:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),o=n.n(c),i=n(36),s=(n(73),n(38)),u=n(9),l=n.n(u),p=n(19),d=n(45),E=function(){var e=Object(p.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){window.gapi.load("client:auth2",Object(p.a)(l.a.mark(function t(){var n,a,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.gapi.client.init({apiKey:d.api_key,clientId:d.client_id,discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4"],scope:"https://www.googleapis.com/auth/spreadsheets"});case 2:if(n=window.gapi.auth2.getAuthInstance()){t.next=6;break}return e({isSignedIn:!1}),t.abrupt("return");case 6:if(a=n.isSignedIn.get()){t.next=10;break}return e({isSignedIn:a}),t.abrupt("return");case 10:r=n.currentUser.get().getBasicProfile().getGivenName(),e({isSignedIn:a,name:r});case 12:case"end":return t.stop()}},t)})))}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(p.a)(l.a.mark(function e(){var t,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.gapi.auth2.getAuthInstance()){e.next=3;break}return e.abrupt("return",{isSignedIn:!1});case 3:if(t=window.gapi.auth2.getAuthInstance().isSignedIn.get()){e.next=8;break}return e.next=7,window.gapi.auth2.getAuthInstance().signIn();case 7:t=window.gapi.auth2.getAuthInstance().isSignedIn.get();case 8:if(t){e.next=10;break}return e.abrupt("return",{isSignedIn:t});case 10:return n=window.gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile().getGivenName(),e.abrupt("return",{isSignedIn:t,name:n});case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),m={getChoreList:function(){var e=Object(p.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:"1jCoMWe-Xjsr3tf7V1Bf8iFb2k1v_2v1veFRztEyZNCA",range:"Chore List!A:B"});case 2:return t=e.sent,e.abrupt("return",t.result.values);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),init:E,saveCompletedChores:function(){var e=Object(p.a)(l.a.mark(function e(t){var n,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:"1jCoMWe-Xjsr3tf7V1Bf8iFb2k1v_2v1veFRztEyZNCA",range:"Completed Chores!A:A"});case 2:return n=e.sent,a=n.result.values.length+1,e.next=6,window.gapi.client.sheets.spreadsheets.values.update({spreadsheetId:"1jCoMWe-Xjsr3tf7V1Bf8iFb2k1v_2v1veFRztEyZNCA",range:"Completed Chores!A".concat(a),valueInputOption:"USER_ENTERED",values:t});case 6:return n=e.sent,e.abrupt("return",n.result.values);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),signIn:h},f=n(111),S=n(112),g=n(114),v=n(123),I=n(122),C=n(120),O=n(121),_=n(119),w=n(115),b=n(116),y=n(117),N=n(118),j=n(51),R=n.n(j),L=n(52),k=n.n(L),D=n(113),x=n(29),T=Object(f.a)(function(){return{centered:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},list:{margin:"56px 0",padding:"4px 0 0 0"},chore:{alignItems:"flex-start"},choreName:{},count:{flex:"unset",maxWidth:100},spaceBetween:{display:"flex",justifyContent:"space-between",alignItems:"center"},footer:{top:"auto",bottom:0},userName:{marginLeft:8},userNameButton:{paddingLeft:12},removeIcon:{justifyContent:"center",minWidth:0,paddingRight:8,marginTop:2,color:"red"},itemLeft:{display:"flex"}}}),A={closeSaveDialog:function(){return{type:"CLOSE_SAVE_DIALOG"}},decrementChore:function(e){return function(t){t({type:"DECREMENT_CHORE",payload:{choreId:e}})}},getChoreList:function(){return function(){var e=Object(p.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"GET_CHORE_LIST_PENDING"}),m.getChoreList().then(function(e){t({type:"GET_CHORE_LIST_SUCCESS",payload:{choreList:e}})}).catch(function(){t({type:"GET_CHORE_LIST_ERROR"})});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},incrementChore:function(e){return function(t){t({type:"INCREMENT_CHORE",payload:{choreId:e}})}},saveCompletedChores:function(e){return function(){var t=Object(p.a)(l.a.mark(function t(n){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"SAVE_COMPLETED_CHORES_PENDING"}),m.saveCompletedChores(e).then(function(){n({type:"SAVE_COMPLETED_CHORES_SUCCESS"})}).catch(function(){n({type:"SAVE_COMPLETED_CHORES_ERROR"})});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},signIn:function(){return function(){var e=Object(p.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"SIGN_IN_PENDING"}),m.signIn().then(function(e){e.isSignedIn?t({type:"SIGN_IN_SUCCESS",payload:e}):t({type:"SIGN_IN_ERROR"})}).catch(function(){t({type:"SIGN_IN_ERROR"})});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}},P=Object(i.b)(function(e){var t=e.choreList,n=e.isSaveDialogOpen,a=e.isSignedIn,r=e.name,c=e.saveStatus;return{choreList:Object.values(t),isSaveDialogOpen:n,isSignedIn:a,name:r,saveStatus:c}},A)(function(e){var t=e.choreList,n=e.closeSaveDialog,c=e.decrementChore,o=e.getChoreList,i=e.incrementChore,u=e.isSaveDialogOpen,l=e.isSignedIn,p=e.name,d=e.saveCompletedChores,E=e.saveStatus,h=e.signIn,m=T();Object(a.useEffect)(function(){l&&o()},[l]);var f=function(e){return function(t){t.stopPropagation(),c(e)}},j=Object.values(t).reduce(function(e,t){return e+t.count*t.price},0);return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{position:"fixed",color:"default"},r.a.createElement(D.a,{classes:{root:m.spaceBetween}},r.a.createElement(x.a,{variant:"h6",color:"inherit"},"Chores"),p&&r.a.createElement(g.a,{variant:"contained",color:"primary",classes:{root:m.userNameButton}},r.a.createElement(R.a,null),r.a.createElement("span",{className:m.userName},p)))),l?t.length?r.a.createElement(w.a,{dense:!0,classes:{root:m.list}},t.map(function(e){return r.a.createElement(b.a,{key:e.name,classes:{root:m.chore},onClick:(t=e.id,function(){return i(t)}),button:!0,divider:!0},e.count>0&&r.a.createElement(y.a,{classes:{root:m.removeIcon},onClick:f(e.id)},r.a.createElement(k.a,null)),r.a.createElement(N.a,{classes:{root:m.choreName}},e.name),r.a.createElement(N.a,{classes:{root:m.count}},e.count," @ $",e.price/100));var t})):"Hi ".concat(p,", we couldn't find the chore list."):r.a.createElement("div",{className:m.centered},r.a.createElement(g.a,{variant:"contained",onClick:h},"Sign in to Google")),r.a.createElement(S.a,{position:"fixed",color:"default",classes:{root:m.footer}},r.a.createElement(D.a,{classes:{root:m.spaceBetween}},l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{variant:"contained",color:"primary",disabled:j<=0,onClick:function(){var e=(new Date).toISOString(),n=Object.values(t).filter(function(e){return e.count>0}).reduce(function(t,n){return[].concat(Object(s.a)(t),Object(s.a)(Object(s.a)(Array(n.count)).map(function(){return[e,p,n.name,n.price/100]})))},[]);d(n)}},"Save"),j>0&&r.a.createElement(x.a,{variant:"h6",color:"primary"},r.a.createElement("span",null,"+")," $",j/100)))),r.a.createElement(v.a,{open:u,onClose:n},"PENDING"===E?r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,null,"In progress"),r.a.createElement(C.a,null,r.a.createElement(O.a,null,"We're saving your chores now..."))):"SUCCESS"===E?r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,null,"Done"),r.a.createElement(C.a,null,r.a.createElement(O.a,null,"Nice work!! Your chores have been saved.")),r.a.createElement(I.a,null,r.a.createElement(g.a,{onClick:n},"Ok"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,null,"Error"),r.a.createElement(C.a,null,r.a.createElement(O.a,null,"We weren't able to save your chores right now. Try again later.")),r.a.createElement(I.a,null,r.a.createElement(g.a,{onClick:n},"Ok")))))}),G=n(27),H=n(55),B=n(28),U=n(56),M=n(12),V={choreList:[],isSaveDialogOpen:!1,isSignedIn:!1,name:"",saveStatus:"PENDING"},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN_SUCCESS":return Object(M.a)({},e,{isSignedIn:t.payload.isSignedIn,name:t.payload.name});case"GET_CHORE_LIST_SUCCESS":return Object(M.a)({},e,{choreList:t.payload.choreList.filter(function(e,t){return t>0}).reduce(function(e,t,n){var a=Object(U.a)(t,2),r=a[0],c=a[1];return Object(M.a)({},e,Object(B.a)({},n+1,{id:n+1,name:r,price:100*parseFloat(c),count:0}))},{})});case"INCREMENT_CHORE":return Object(M.a)({},e,{choreList:Object(M.a)({},e.choreList,Object(B.a)({},t.payload.choreId,Object(M.a)({},e.choreList[t.payload.choreId],{count:e.choreList[t.payload.choreId].count+1})))});case"DECREMENT_CHORE":return Object(M.a)({},e,{choreList:Object(M.a)({},e.choreList,Object(B.a)({},t.payload.choreId,Object(M.a)({},e.choreList[t.payload.choreId],{count:e.choreList[t.payload.choreId].count-1})))});case"SAVE_COMPLETED_CHORES_PENDING":return Object(M.a)({},e,{isSaveDialogOpen:!0,saveStatus:"PENDING"});case"SAVE_COMPLETED_CHORES_SUCCESS":return Object(M.a)({},e,{saveStatus:"SUCCESS"});case"SAVE_COMPLETED_CHORES_ERROR":return Object(M.a)({},e,{saveStatus:"ERROR"});case"CLOSE_SAVE_DIALOG":return Object(M.a)({},e,{isSaveDialogOpen:!1,choreList:Object(M.a)({},Object.keys(e.choreList).map(function(t){return Object(M.a)({},e.choreList[t],{count:0})}))});default:return e}},W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||G.c,z=Object(G.d)(F,W(Object(G.a)(H.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,{store:z},r.a.createElement(P,null)),document.getElementById("root")),z.dispatch(function(e){return e({type:"INIT_SHEETS_API_PENDING"}),m.init().then(function(t){e({type:"INIT_SHEETS_API_SUCCESS",payload:t}),t.isSignedIn&&e({type:"SIGN_IN_SUCCESS",payload:t})}).catch(function(){e({type:"INIT_SHEETS_API_ERROR"})})}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[64,1,2]]]);
//# sourceMappingURL=main.ceef36d0.chunk.js.map