(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{46:function(e){e.exports={client_id:"965002260915-v77visb8dlu3oohk47mdt0ojr3osvbaa.apps.googleusercontent.com",api_key:"AIzaSyBmBiPWa8zyPsjNSEBVtrbVPzP8Fdu3UjI"}},69:function(e,t,n){e.exports=n(88)},78:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(7),c=n.n(o),i=n(22),s=(n(78),n(39)),u=n(10),l=n.n(u),p=n(19),E=n(46),h=function(){var e=Object(p.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){window.gapi.load("client:auth2",Object(p.a)(l.a.mark(function t(){var n,a,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.gapi.client.init({apiKey:E.api_key,clientId:E.client_id,discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4"],scope:"https://www.googleapis.com/auth/spreadsheets"});case 2:if(n=window.gapi.auth2.getAuthInstance()){t.next=6;break}return e({isSignedIn:!1}),t.abrupt("return");case 6:if(a=n.isSignedIn.get()){t.next=10;break}return e({isSignedIn:a}),t.abrupt("return");case 10:r=n.currentUser.get().getBasicProfile().getGivenName(),e({isSignedIn:a,name:r});case 12:case"end":return t.stop()}},t)})))}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(p.a)(l.a.mark(function e(){var t,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.gapi.auth2.getAuthInstance()){e.next=3;break}return e.abrupt("return",{isSignedIn:!1});case 3:if(t=window.gapi.auth2.getAuthInstance().isSignedIn.get()){e.next=8;break}return e.next=7,window.gapi.auth2.getAuthInstance().signIn();case 7:t=window.gapi.auth2.getAuthInstance().isSignedIn.get();case 8:if(t){e.next=10;break}return e.abrupt("return",{isSignedIn:t});case 10:return n=window.gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile().getGivenName(),e.abrupt("return",{isSignedIn:t,name:n});case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),g={getChoreList:function(){var e=Object(p.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:"1jCoMWe-Xjsr3tf7V1Bf8iFb2k1v_2v1veFRztEyZNCA",range:"Chore List!A:B"});case 2:return t=e.sent,e.abrupt("return",t.result.values);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),init:h,saveCompletedChores:function(){var e=Object(p.a)(l.a.mark(function e(t){var n,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:"1jCoMWe-Xjsr3tf7V1Bf8iFb2k1v_2v1veFRztEyZNCA",range:"Completed Chores!A:A"});case 2:return n=e.sent,a=n.result.values.length+1,e.next=6,window.gapi.client.sheets.spreadsheets.values.update({spreadsheetId:"1jCoMWe-Xjsr3tf7V1Bf8iFb2k1v_2v1veFRztEyZNCA",range:"Completed Chores!A".concat(a),valueInputOption:"USER_ENTERED",values:t});case 6:return n=e.sent,e.abrupt("return",n.result.values);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),signIn:d},m=n(123),f=n(124),C=n(122),S=n(114),O=n(115),v=n(126),I=n(118),_=n(37),b=n.n(_),y=n(55),w=n.n(y),N=n(125),j=n(30),R=n(117),D=n(127),L=n(113),P=n(116),k={changePerson:function(e){return{type:"CHANGE_PERSON",payload:{person:e}}},closeChangePersonDialog:function(){return{type:"CLOSE_CHANGE_PERSON_DIALOG"}}},A=Object(i.b)(function(e){return{isChangePersonDialogOpen:e.isChangePersonDialogOpen,people:e.people}},k)(function(e){var t=e.changePerson,n=e.closeChangePersonDialog,a=e.isChangePersonDialogOpen,o=e.people;return r.a.createElement(D.a,{open:a,onClose:n},r.a.createElement(L.a,null,"Change person"),r.a.createElement(S.a,null,o.map(function(e){return r.a.createElement(O.a,{button:!0,onClick:function(){return t(e)},key:e},r.a.createElement(P.a,null,r.a.createElement(R.a,null,r.a.createElement(b.a,null))),r.a.createElement(I.a,{primary:e}))})))}),G=n(121),x=n(119),T=n(120),H={closeSaveChoresDialog:function(){return{type:"CLOSE_SAVE_CHORES_DIALOG"}}},B=Object(i.b)(function(e){return{isSaveChoresDialogOpen:e.isSaveChoresDialogOpen,saveStatus:e.saveStatus}},H)(function(e){var t=e.closeSaveChoresDialog,n=e.isSaveChoresDialogOpen,a=e.saveStatus;return r.a.createElement(D.a,{open:n,onClose:t},"PENDING"===a?r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,null,"In progress"),r.a.createElement(x.a,null,r.a.createElement(T.a,null,"We're saving your chores now..."))):"SUCCESS"===a?r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,null,"Done"),r.a.createElement(x.a,null,r.a.createElement(T.a,null,"Nice work!! Your chores have been saved.")),r.a.createElement(G.a,null,r.a.createElement(C.a,{onClick:t},"Ok"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,null,"Error"),r.a.createElement(x.a,null,r.a.createElement(T.a,null,"We weren't able to save your chores right now. Try again later.")),r.a.createElement(G.a,null,r.a.createElement(C.a,{onClick:t},"Ok"))))}),U=Object(m.a)(function(){return{centered:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},list:{margin:"56px 0",padding:"4px 0 0 0"},chore:{alignItems:"flex-start"},choreName:{},count:{flex:"unset",maxWidth:100},spaceBetween:{display:"flex",justifyContent:"space-between",alignItems:"center"},footer:{top:"auto",bottom:0},userName:{marginLeft:8},userNameButton:{paddingLeft:12},removeIcon:{justifyContent:"center",minWidth:0,paddingRight:8,marginTop:2,color:"red"},itemLeft:{display:"flex"}}}),M={decrementChore:function(e){return function(t){t({type:"DECREMENT_CHORE",payload:{choreId:e}})}},getChoreList:function(){return function(){var e=Object(p.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"GET_CHORE_LIST_PENDING"}),g.getChoreList().then(function(e){t({type:"GET_CHORE_LIST_SUCCESS",payload:{choreList:e}})}).catch(function(){t({type:"GET_CHORE_LIST_ERROR"})});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},incrementChore:function(e){return function(t){t({type:"INCREMENT_CHORE",payload:{choreId:e}})}},openChangePersonDialog:function(){return{type:"OPEN_CHANGE_PERSON_DIALOG"}},saveCompletedChores:function(e){return function(){var t=Object(p.a)(l.a.mark(function t(n){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"SAVE_COMPLETED_CHORES_PENDING"}),g.saveCompletedChores(e).then(function(){n({type:"SAVE_COMPLETED_CHORES_SUCCESS"})}).catch(function(){n({type:"SAVE_COMPLETED_CHORES_ERROR"})});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},signIn:function(){return function(){var e=Object(p.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"SIGN_IN_PENDING"}),g.signIn().then(function(e){e.isSignedIn?t({type:"SIGN_IN_SUCCESS",payload:e}):t({type:"SIGN_IN_ERROR"})}).catch(function(){t({type:"SIGN_IN_ERROR"})});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}},V=Object(i.b)(function(e){var t=e.choreList,n=e.isSignedIn,a=e.name;return{choreList:Object.values(t),isSignedIn:n,name:a}},M)(function(e){var t=e.choreList,n=e.decrementChore,o=e.getChoreList,c=e.incrementChore,i=e.isSignedIn,u=e.name,l=e.openChangePersonDialog,p=e.saveCompletedChores,E=e.signIn,h=U();Object(a.useEffect)(function(){i&&o()},[i]);var d=function(e){return function(t){t.stopPropagation(),n(e)}},g=Object.values(t).reduce(function(e,t){return e+t.count*t.price},0);return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{position:"fixed",color:"default"},r.a.createElement(N.a,{classes:{root:h.spaceBetween}},r.a.createElement(j.a,{variant:"h6",color:"inherit"},"Chores"),u&&r.a.createElement(C.a,{variant:"contained",color:"primary",classes:{root:h.userNameButton},onClick:l},r.a.createElement(b.a,null),r.a.createElement("span",{className:h.userName},u)))),i?t.length?r.a.createElement(S.a,{dense:!0,classes:{root:h.list}},t.map(function(e){return r.a.createElement(O.a,{key:e.name,classes:{root:h.chore},onClick:(t=e.id,function(){return c(t)}),button:!0,divider:!0},e.count>0&&r.a.createElement(v.a,{classes:{root:h.removeIcon},onClick:d(e.id)},r.a.createElement(w.a,null)),r.a.createElement(I.a,{classes:{root:h.choreName}},e.name),r.a.createElement(I.a,{classes:{root:h.count}},e.count," @ $",e.price/100));var t})):"Hi ".concat(u,", we couldn't find the chore list."):r.a.createElement("div",{className:h.centered},r.a.createElement(C.a,{variant:"contained",onClick:E},"Sign in to Google")),r.a.createElement(f.a,{position:"fixed",color:"default",classes:{root:h.footer}},r.a.createElement(N.a,{classes:{root:h.spaceBetween}},i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{variant:"contained",color:"primary",disabled:g<=0,onClick:function(){var e=(new Date).toISOString(),n=Object.values(t).filter(function(e){return e.count>0}).reduce(function(t,n){return[].concat(Object(s.a)(t),Object(s.a)(Object(s.a)(Array(n.count)).map(function(){return[e,u,n.name,n.price/100]})))},[]);p(n)}},"Save"),g>0&&r.a.createElement(j.a,{variant:"h6",color:"primary"},r.a.createElement("span",null,"+")," $",g/100)))),r.a.createElement(B,null),r.a.createElement(A,null))}),F=n(28),W=n(56),z=n(29),X=n(57),$=n(9),Z={choreList:[],isChangePersonDialogOpen:!1,isSaveChoresDialogOpen:!1,isSignedIn:!1,name:"",people:["Derek","Krista"],saveStatus:"PENDING"},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN_SUCCESS":return Object($.a)({},e,{isSignedIn:t.payload.isSignedIn,name:t.payload.name});case"GET_CHORE_LIST_SUCCESS":return Object($.a)({},e,{choreList:t.payload.choreList.filter(function(e,t){return t>0}).reduce(function(e,t,n){var a=Object(X.a)(t,2),r=a[0],o=a[1];return Object($.a)({},e,Object(z.a)({},n+1,{id:n+1,name:r,price:100*parseFloat(o),count:0}))},{})});case"INCREMENT_CHORE":return Object($.a)({},e,{choreList:Object($.a)({},e.choreList,Object(z.a)({},t.payload.choreId,Object($.a)({},e.choreList[t.payload.choreId],{count:e.choreList[t.payload.choreId].count+1})))});case"DECREMENT_CHORE":return Object($.a)({},e,{choreList:Object($.a)({},e.choreList,Object(z.a)({},t.payload.choreId,Object($.a)({},e.choreList[t.payload.choreId],{count:e.choreList[t.payload.choreId].count-1})))});case"SAVE_COMPLETED_CHORES_PENDING":return Object($.a)({},e,{isSaveChoresDialogOpen:!0,saveStatus:"PENDING"});case"SAVE_COMPLETED_CHORES_SUCCESS":return Object($.a)({},e,{saveStatus:"SUCCESS"});case"SAVE_COMPLETED_CHORES_ERROR":return Object($.a)({},e,{saveStatus:"ERROR"});case"CLOSE_SAVE_CHORES_DIALOG":return Object($.a)({},e,{isSaveChoresDialogOpen:!1,choreList:Object($.a)({},Object.keys(e.choreList).map(function(t){return Object($.a)({},e.choreList[t],{count:0})}))});case"OPEN_CHANGE_PERSON_DIALOG":return Object($.a)({},e,{isChangePersonDialogOpen:!0});case"CLOSE_CHANGE_PERSON_DIALOG":return Object($.a)({},e,{isChangePersonDialogOpen:!1});case"CHANGE_PERSON":return Object($.a)({},e,{isChangePersonDialogOpen:!1,name:t.payload.person});default:return e}},K=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||F.c,Y=Object(F.d)(J,K(Object(F.a)(W.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(i.a,{store:Y},r.a.createElement(V,null)),document.getElementById("root")),Y.dispatch(function(e){return e({type:"INIT_SHEETS_API_PENDING"}),g.init().then(function(t){e({type:"INIT_SHEETS_API_SUCCESS",payload:t}),t.isSignedIn&&e({type:"SIGN_IN_SUCCESS",payload:t})}).catch(function(){e({type:"INIT_SHEETS_API_ERROR"})})}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[69,1,2]]]);
//# sourceMappingURL=main.e95ce9b4.chunk.js.map